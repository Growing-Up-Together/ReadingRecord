# 3장 사용자 및 권한

## 3.1 사용자 식별
- MySQL은 사용자의 계정뿐이라 접속지점(호스트명, IP, 도메인)도 계정의 일부가 된다.
    ```sql
    'beenz'@'192.168.0.10' -- 192.168.0.1 에서만 접속 가능
    'beenz'@'%' -- 모든 외부 컴퓨터에서 접속 가능
    ```
- 위 코드와 같이 같은 계정명에 대해 여러 IP 설정이 있을 경우  
  192.168.0.10 IP를 가진 PC에서 접속할 경우 MySQL은 범위가 더 좁은   
  'beenz'@'192.168.0.10' 정보를 사용하게 된다.

## 3.2 사용자 계정 관리
### 3.2.1 시스템 계정과 일반 계정
- MySQL 8.0부터 SYSTEM_USER 권한 보유 여부에 따라 시스템 계정과 일반 계정으로 구분된다.
- 시스템계정은 일반계정에서 할 수 없는 서버관리와 관련된 중요한 작업을 수행할 수 있다.
  - 계정관리
  - 세션 및 세션에서 실행중인 쿼리에 대한 관리
  - 스토어드 프로그램 생성시 DEFINER를 타 사용자로 설정

    > - Stored Programs in general refers to:  
    > PROCEDURE  
    > FUNCTION  
    > TABLE TRIGGER  
    > EVENT  
    > 
    > https://dev.mysql.com/doc/dev/mysql-server/latest/stored_programs.html

    >  ```mysql
    > UPDATE `mysql`.`proc` p SET definer = 'YournewDefiner' WHERE definer='OldDefinerShownBefore'
    > ```
    > https://stackoverflow.com/questions/3206820/change-the-stored-procedure-definer

- MySQL 서버 내장 계정
  - `55p` 참조
  - 해당 계정들은 처음부터 참겨있는 상태(`account_locked='Y'`)이므로 의도적으로 잠금을 풀지 않는한 보안을 걱정할 필요는 없다.
  ![내장계정](./beenz/2_account_locked.png)