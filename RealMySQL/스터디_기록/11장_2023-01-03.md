# ✏️ 스터디 기록

- 스터디 일시 : 2023.01.03
- 서기: beenz

<br />

## 11장. 쿼리 작성 및 최적화

### 학습 내용
- SQL 모드 설정을 통해 SQL의 작성 결과 규칙을 설정할 수 있다.
- MYSQL은 설치된 운영체제에 따라 테이블명의 대소문자를 구분한다.
- MySQL 예약어를 데이터베이스나 테이블, 컬럼 이름으로 사용하려면 ` (역따옴표), 또는 " (쌍따옴표) 로 감싸줘야한다.
- 공식문서 매뉴얼을 읽는 방법 (대문자, <i>이탤릭체</i>, [], |, {}, ...)
- SQL의 가독성을 높이기 위해 ANSI 표준형태 연산자를 권장한다. (문자열, 숫자, 날짜, 불리언)
  - string_column=숫자 형태로 사용할 경우 인덱스를 제대로 활용할 수 없다.
- MySQL 연산자
  - <=> 는 NULL에 대한 값까지 체크한다.
  - AND , OR 연산자 우선순위 주의할것
  - RLIKE, REGEXP 로 정규표현식 검색이 가능 (^,$,[],(),|,.,*,+,?)
  - BETWEEN과 IN의 인덱스 탐색 차이 (범위, 동등)
  - IN 서브쿼리를 세미조인을 통해 쿼리 최적화를 할 수 있다.
- MySQL 내장함수
  - 하나의 SQL에서 NOW()는 같은 값을 가지지만 SYSDATE는 호출 시점에 따라 값이 달라진다.
  - SYSDATE와 비교되는 칼럼은 인덱스를 효율적으로 사용하지 못한다.
  - CONCAT시 CAST로 타입변환을 해준 후 쓰는게 안전하다.
  - GROUP_CONCAT() 함수를 통해 통계성쿼리를 유용하게 사용할 수 있음.
  - CASE WHEN 서브쿼리를 통해 서브쿼리에 대한 쿼리 튜닝을 할 수 있다.
  - SLEEP, BENCHMARK 를 통해 디버깅에 활용할 수 있다.
  - 암호화, IP, JSON을 지원하는 다양한 함수가 존재함.

### Issue



### 질문
- group by, having 열참조 8버전 이하에서 가능한건지?
  → 5.7버전 이후로부터는 지원
  → having 이나 group by에서 사용하지 않는 컬럼은 사용 못함
- 날짜타입에 텍스트를 넣었을때 string_column=숫자 처럼 인덱스를 타는데 문제가 생기는지
  → 문자자료형=숫자 형태가 아니기 때문에 별 문제 없을듯
- 업무중 enum 으로 데이터를 넣었을때 . 붙는 문제
  → 확인필요
- &&, || 연산자 where 절에 되는지 
  → 된다
- (헷갈려서 질문) CASE WHEN 인서브쿼리방식을 써도 실행계획 row수가 똑같이 나오는 문제
  → 쿼리의 WHERE 조건이 같기 때문에 똑같이 나오는게 맞다.
- JSON_OBJECT 조회시 타입 
  → longtext

## 다음주 공지

✔️ 4번째주(1.24) 쉬어가는 주
✔️ 회고는 월 1회
<br>

# ⏳ 회고

## 좋았던 점
- 

## 아쉬웠던 점
- 

## 액션 플랜
- 