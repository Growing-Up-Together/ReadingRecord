# ✏️ 스터디 기록

- 스터디 일시 : 2023.05.13
- 서기: 김차원

## 17장. InnoDB 클러스터

### 학습 내용
- 빌트인 형태의 HA 솔루션인 `InnoDB 클러스터`로 고가용성을 실현할 수 있게 되었다.
- InnoDB 클러스터는 `그룹복제`, `MySQL Router`, `MySQL Shell` 로 구성되어있다.
  ![InnoDB 클러스터 구성요소](https://haedoang.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F82bfa20f-9977-4045-b6b6-4c6064343d5b%2FUntitled.png?id=f36bc3e8-ff14-479d-bffd-9b75f275c0ef&table=block&spaceId=082d49f4-4910-4934-92bc-c69b170d3af1&width=2000&userId=&cache=v2)
    
1. 그룹복제
  - 그룹 내 클러스터 형태로 양뱡향으로 복제 처리 가능하다.
  - 쓰기를 처리하는 서버를 프라이머리, 읽기 전용 서버를 세컨더리 라고 한다.
  - 별도 플러그인으로 구현되어 있기 때문에 `복제 플러그인`이 설치 되어 있어야한다.
  - 그룹 복제 MySQL 서버의 수
    ```text
     n = 2f + 1 (n: 전체 서버 수, f: 허용하고자 하는 장애 서버 수) //과반수 합의가 필요하므로
    ```
  - 그룹복제의 모드에는 `싱글 프라이머리 모드`, `멀티 프라이머리 모드`가 있다.
  - 그룹복제는 `그룹 멤버 관리`를 통해 현재 어떤 서버들이 그룹에 참여하고 있는지 그룹 멤버들에 대한 목록과 상태 정보를 관리한다.
    - `View`, `View ID` 를 통해 관리
  - 그룹복제에서는 `합의`, `인증` 단계를 거쳐 트랜잭션 처리가 된다.
    - 트랜잭션 일관성 수준에는 `EVENTUAL`,`BEFORE_ON_PRIMARY_FAILOVER`,`BEFORE`,`AFTER`,`BEFORE_AND_AFTER` 가 있다.
  - 그룹 멤버 간 트랜잭션 적용 불균형으로 인해 발생하는 문제를 방지하기 위해 쓰기 처리량을 조절하는 메커니즘이 구현되어 있는데 이를 `흐름 제어(Flow Control)` 라고 한다.
  - 그룹 복제는 그룹의 일부 멤버에 장애가 발생해 응답 불능일 경우 정상적으로 동작하도록 `자동 장애 감지` 메커니즘이 구현되어 있다.
  - 그룹 복제는 `분산 복구`를 지원한다.
    - 분산 복구 방식에는 `바이너리 로그 복제`방식, `원격 클론(Remote Cloning) 방식`이 있다.
    - 분산 복구 프로세스는 `로컬복구`, `글로벌 복구`, `캐시 트랜잭션 적용` 단계가 있다.
  - 그룹 복제에는 다양한 요구 사항 및 제약사항이 있다.

### Issue

- 

## 다음주 공지

✔️ 

<br>

# ⏳ 회고

## 좋았던 점

- 

## 아쉬웠던 점

- 

## 액션 플랜

- 