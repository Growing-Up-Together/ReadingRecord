# ✏️ 스터디 기록

> 스터디 일시 : 2023.02.25
> 서기: 위니

<br />

## 12장. 확장 검색

### 학습 내용

#### 전문 검색

- 용량이 큰 문서를 단어 수준으로 쪼개어 검색해주는 기능
- n-gram 파서
  - MySQL8.0에서 특정 길이의 조각(Token)으로 인덱싱하는 n-gram 파서 도입
  - 공백과 띄어쓰기 단위로 단어를 잘라서 인덱싱하는 알고리즘
  - ngram_token_size 시스템 변수로 검색어의 길이 제약을 조정할 수 있다.  
    → 해당 길이보다 작은 단어는 검색되지 않는다.

- 전문 검색 쿼리 모드
  - 자연어 검색 : 검색어의 단어를 많이 가지고 있는 순서로 정렬되어 결과를 반환
  - 불리언 : 단어의 존재 여부를 검색
  - 검색어 확장 : 사용자가 쿼리에 사용한 검색어로 검색된 결과에서 공통으로 발견되는 단어들을 모아서 한 번 더 검색

- 전문 검색 인덱스 디버깅 기능으로 전문 검색 쿼리 오류의 원인을 쉽게 찾을 수 있게 되었다.
  - innodb_ft_* (ex. innodb_ft_config 시스템 변수로 전문 검색 인덱스의 설정 내용을 확인)

#### 공간 검색

- OpenGIS : OGC에서 제정한 지리 정보 시스템
- SRS : 좌표계
  - GCS : 지리 좌표계
    - 지구와 같은 구체 표면에서 특정 위치를 정의 (위도, 경도, 각도)
  - PCS : 투영 좌표계
    - GCS 위치 데이터를 2차원 평면 종이에 어떻게 표현할지를 정의
- SRID : SRS를 지칭하는 고유 번호
- WKT : 사람이 눈으로 쉽게 확인할 수 있는 텍스트 포맷
- WKB : 컴퓨터에서 저장할 수 있는 형태의 이진 포맷의 저장 표준

- [Spatial Relation Functions That Use Object Shapes](https://dev.mysql.com/doc/refman/8.0/en/spatial-relation-functions-object-shapes.html)

- MySQL 8.0.25 까지는 버그가 많으므로, 공간 검색 사용 시 주의가 필요하다.

### Issue

- [전문 검색 인덱스 자연어 검색 관련 질문](https://github.com/Growing-Up-Together/ReadingRecord/issues/45)

### 질문

- 직선 거리와 구체 거리 중에서 어떤걸 써야 하나?  
  → 원거리인 경우 구체 거리가 좀 더 정확

### 다음주 공지

✔️ 3.4(토) 08:00  
✔️ 해동 지각 (1/2)  
✔️ 3월 25일에 날짜 조정 필요    
→ 4.1에 한꺼번에 하기로!

<br>

## ⏳ 회고

### 좋았던 점

- 1권 스터디를 잘 하고 넘어와서 2권 내용이 잘 읽혀서 좋다!
- 다른 분들이 정리를 잘 해주셔서 내가 정리를 못해도 잘 흡수가 된다.
- 정리에 대한 압박을 좀 벗어나기도 했다.
- 진도가 꽤 많은데 안밀리고 하는게 대단하다.

### 아쉬웠던 점

- 아침이 너무 힘들다.
- 지각을 해서 아쉽다.
- 1권 만큼 스터디에 집중하지는 못하는 것 같다.
