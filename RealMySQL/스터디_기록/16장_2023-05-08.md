# ✏️ 스터디 기록

- 스터디 일시 : 2023.05.08
- 서기: 김차원

## 16장. 복제

### 학습 내용

- 16.7 복제 고급 설정
  - 지연된 복제 : 소스서버와 레플리카 서버간의 복제를 지연할 때 사용, OCT, ICT 타임스탬프가 있다.
  - 멀티스레드 복제 : 코디네이터 스레드, 워커 스레드로 구성되며, 여러개의 워커스레드의 각 QUEUE 에 적재되어 순차적으로 적용
    - 데이터베이스 기반 멀티 스레드 복제 
         - DB 개수 만큼 워커 스레드 설정. (그래야 대기시간이 없다!)
         - DB가 1개일떈 큰 이점이 없다.
    - LOGICAL CLOCK 기반 멀티스레드 복제
       - 소스 서버로부터 넘어온 전체 트랜잭션들을 멀티스레드로 처리
       - 대규모 DB에 유리
       - 복제 처리 방식
         1. 바이너리 로그 그룹 처리 
            - 트랜잭션들이 `Leader`, `Follower` 가 QUEUE 구조로 처리된다.
         2. Commit-parent 기반 LOGICAL CLOCK 방식
            - `commit_seq_no` 를 통해 병렬처리
         3. 잠금(Lock) 기반 LOGICAL CLOCK 방식
            - `last_committed` < 현재 실행 중인 트랜잭션들이 가지는 가장 작은 `sequence_number` 값을 통해 병렬 처리
         4. WriteSet 기반 LOGICAL CLOCK 방식
            - 트랜잭션 커밋 시점이 아니라 트랜잭션이 변경한 데이터를 기준으로 병렬 처리 가능 여부 결정
            - WriteSet 히스토리 테이블을 체크하며 충돌 처리
  - 멀티 스레드 복제와 복제 포지션 정보
  - 크래시 세이프 복제 : 포지션 정보를 토대로 복제 및 복구
  - 복제 사용 형태별 크래시 세이프 복제 설정
    - 바이너리 로그 파일 위치 기반 복제 + (싱글/멀티)스레드 동기화
    - GTID 기반 복제 + (싱글/멀티)스레드 동기화
    - 필터링된 복제 : 소스 서버의 특정 이벤트들만 레플리카 서버에 적용될 수 있도 필터링 기능을 제공

### Issue
- `p530` 처리 순서 및 방식

## 다음주 공지

✔️ 

<br>

# ⏳ 회고

## 좋았던 점

- 

## 아쉬웠던 점

- 

## 액션 플랜

- 